/* A lot of the styling ideas in this file come from the following:
 * * https://every-layout.dev/rudiments/modular-scale/
 * * https://piccalil.li/tutorial/improve-the-readability-of-the-content-on-your-website/
 * Thank you, Andy and Heydon!
 */

/* Reset */

*,
*::before,
*::after {
  box-sizing: border-box;
}

body,
h1,
h2,
p {
  margin: 0;
}

/* Global styles */

:root {
  /* Modular scale */
  --ratio: 1.333;
  --s0: 1rem;
  --s1: calc(var(--s0) * var(--ratio));
  --s2: calc(var(--s1) * var(--ratio));
  --s3: calc(var(--s2) * var(--ratio));
  --s4: calc(var(--s3) * var(--ratio));

  /* Color constants */
  --black: #1c2334;
  --dark-blue: #046b99;
  --light-blue: #00cfff;
  --white: #efefef;

  --background-color: var(--white);
  --text-color: var(--black);
  --link-color: var(--dark-blue);
  --selected-link-color: var(--light-blue);

  /* Other constants */
 --hover-text-decoration-thickness: 2px;
}

@media (prefers-color-scheme: dark) {
  :root {
    --background-color: var(--black);
    --text-color: var(--white);
    --link-color: var(--light-blue);
    --selected-link-color: var(--dark-blue);
  }
}

body {
  background-color: var(--background-color);
  color: var(--text-color);
  line-height: 1.5;
  font-family: Georgia, serif;
  padding: 2rem 0;
  overflow-wrap: break-word;
}

::selection {
  color: var(--background-color);
  background-color: var(--text-color);
}

a[href] {
  color: var(--link-color);
}

a[href]::selection {
  color: var(--selected-link-color);
}

@media (hover: hover) {
  a[href]:hover {
    text-decoration-thickness: var(--hover-text-decoration-thickness);
  }
}

:focus {
  outline: 2px solid currentColor;
  outline-offset: 2px;
}

h1,
h2 {
  /* System font stack: https://systemfontstack.com/ */
  font-family: -apple-system, BlinkMacSystemFont, avenir next, avenir, helvetica neue,
               helvetica, Ubuntu, roboto, noto, segoe ui, arial, sans-serif;
  line-height: 1.3;
  font-weight: 900;
}

h1 {
  font-size: var(--s3);
}

h2 {
  font-size: var(--s2);
}

p,
li {
  font-size: var(--s0);
}

@media (min-width: 45em) {
  :root {
    --hover-text-decoration-thickness: 3px;
  }

  h1 {
    font-size: var(--s4);
  }

  h2 {
    font-size: var(--s3);
  }

  p,
  li {
    font-size: var(--s1);
  }
}

main > * + * {
  margin-top: var(--flow-space, 1em);
}

p,
li {
  max-width: 60ch;
}

h1 {
  max-width: 15ch;
}

h2 {
  max-width: 25ch;
}

main {
  width: clamp(20rem, 90vw, 70rem);
  max-width: 100%;
  margin-left: auto;
  margin-right: auto;
  padding-left: 1.5rem;
  padding-right: 1.5rem;
}
